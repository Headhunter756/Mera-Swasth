package in.aap.main.service;

import java.util.List;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import in.aap.main.beans.Records;
import in.aap.main.repo.RecordsRepo;

@Service
public class RecordsService {
	
	@Autowired
	private RecordsRepo repo;
	
	Logger logger = LogManager.getLogger(RecordsService.class);

	public List<Records> getAllRecords(long id) {
		List<Records> records = repo.findByPatient(id);
		if(!records.isEmpty()) {
			logger.info("Records Found");
			return records;
		}
		else {
			logger.warn("Records Not Found");
			return null;			
		}
	}
	
	public boolean addRecord(Records record) {
		Records r = repo.save(record);
		if(r!=null) {
			return true;
		}
		else {
			return false;			
		}
	}
}
